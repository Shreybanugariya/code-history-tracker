<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    Code History Tracker - Architecture
  </text>
  
  <!-- VS Code Layer -->
  <rect x="50" y="60" width="700" height="120" fill="#0066b8" opacity="0.1" stroke="#0066b8" stroke-width="2" rx="5"/>
  <text x="70" y="85" font-size="16" font-weight="bold" fill="#0066b8">VS Code Extension Layer</text>
  
  <!-- Hover Provider -->
  <rect x="80" y="100" width="150" height="60" fill="#61dafb" stroke="#0066b8" stroke-width="2" rx="5"/>
  <text x="155" y="125" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Hover Provider</text>
  <text x="155" y="145" font-size="11" text-anchor="middle" fill="#333">Quick tooltip on</text>
  <text x="155" y="157" font-size="11" text-anchor="middle" fill="#333">line hover</text>
  
  <!-- Command Handlers -->
  <rect x="260" y="100" width="150" height="60" fill="#61dafb" stroke="#0066b8" stroke-width="2" rx="5"/>
  <text x="335" y="120" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Command</text>
  <text x="335" y="135" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Handlers</text>
  <text x="335" y="152" font-size="11" text-anchor="middle" fill="#333">Right-click actions</text>
  
  <!-- Webview Panel -->
  <rect x="440" y="100" width="150" height="60" fill="#61dafb" stroke="#0066b8" stroke-width="2" rx="5"/>
  <text x="515" y="125" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Webview Panel</text>
  <text x="515" y="145" font-size="11" text-anchor="middle" fill="#333">Display formatted</text>
  <text x="515" y="157" font-size="11" text-anchor="middle" fill="#333">commit history</text>
  
  <!-- Core Logic Layer -->
  <rect x="50" y="210" width="700" height="160" fill="#4caf50" opacity="0.1" stroke="#4caf50" stroke-width="2" rx="5"/>
  <text x="70" y="235" font-size="16" font-weight="bold" fill="#4caf50">Core Logic Layer</text>
  
  <!-- Git Command Builder -->
  <rect x="80" y="250" width="180" height="100" fill="#8bc34a" stroke="#4caf50" stroke-width="2" rx="5"/>
  <text x="170" y="270" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Git Command</text>
  <text x="170" y="285" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Builder</text>
  <text x="170" y="305" font-size="10" text-anchor="middle" fill="#333">• getLineHistory()</text>
  <text x="170" y="320" font-size="10" text-anchor="middle" fill="#333">• getFunctionHistory()</text>
  <text x="170" y="335" font-size="10" text-anchor="middle" fill="#333">• searchCodeHistory()</text>
  
  <!-- Output Parser -->
  <rect x="290" y="250" width="180" height="100" fill="#8bc34a" stroke="#4caf50" stroke-width="2" rx="5"/>
  <text x="380" y="275" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">Output Parser</text>
  <text x="380" y="295" font-size="10" text-anchor="middle" fill="#333">Parse git log output</text>
  <text x="380" y="310" font-size="10" text-anchor="middle" fill="#333">Extract commits, diffs,</text>
  <text x="380" y="325" font-size="10" text-anchor="middle" fill="#333">authors, dates,</text>
  <text x="380" y="340" font-size="10" text-anchor="middle" fill="#333">branches</text>
  
  <!-- HTML Formatter -->
  <rect x="500" y="250" width="180" height="100" fill="#8bc34a" stroke="#4caf50" stroke-width="2" rx="5"/>
  <text x="590" y="275" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">HTML Formatter</text>
  <text x="590" y="295" font-size="10" text-anchor="middle" fill="#333">Generate styled</text>
  <text x="590" y="310" font-size="10" text-anchor="middle" fill="#333">webview HTML with</text>
  <text x="590" y="325" font-size="10" text-anchor="middle" fill="#333">VS Code theme</text>
  <text x="590" y="340" font-size="10" text-anchor="middle" fill="#333">integration</text>
  
  <!-- Git Layer -->
  <rect x="50" y="400" width="700" height="140" fill="#ff9800" opacity="0.1" stroke="#ff9800" stroke-width="2" rx="5"/>
  <text x="70" y="425" font-size="16" font-weight="bold" fill="#ff9800">Git Commands Layer</text>
  
  <!-- Git Commands -->
  <rect x="80" y="440" width="200" height="80" fill="#ffb74d" stroke="#ff9800" stroke-width="2" rx="5"/>
  <text x="180" y="460" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">git log -L</text>
  <text x="180" y="477" font-size="10" text-anchor="middle" fill="#333">Track line/function changes</text>
  <text x="180" y="492" font-size="9" text-anchor="middle" fill="#555">git log -L 10,10:file.js</text>
  <text x="180" y="507" font-size="9" text-anchor="middle" fill="#555">git log -L :funcName:file.js</text>
  
  <rect x="310" y="440" width="200" height="80" fill="#ffb74d" stroke="#ff9800" stroke-width="2" rx="5"/>
  <text x="410" y="460" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">git log -S</text>
  <text x="410" y="477" font-size="10" text-anchor="middle" fill="#333">Find when code added/removed</text>
  <text x="410" y="492" font-size="9" text-anchor="middle" fill="#555">git log -S "code snippet"</text>
  <text x="410" y="507" font-size="9" text-anchor="middle" fill="#555">-- file.js</text>
  
  <rect x="540" y="440" width="200" height="80" fill="#ffb74d" stroke="#ff9800" stroke-width="2" rx="5"/>
  <text x="640" y="460" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">git rev-parse</text>
  <text x="640" y="477" font-size="10" text-anchor="middle" fill="#333">Find repository root</text>
  <text x="640" y="492" font-size="9" text-anchor="middle" fill="#555">git rev-parse</text>
  <text x="640" y="507" font-size="9" text-anchor="middle" fill="#555">--show-toplevel</text>
  
  <!-- Arrows -->
  <!-- Hover to Git Command Builder -->
  <line x1="155" y1="160" x2="155" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Command to Git Command Builder -->
  <line x1="335" y1="160" x2="200" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Git Command Builder to Parser -->
  <line x1="260" y1="300" x2="290" y2="300" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Parser to Formatter -->
  <line x1="470" y1="300" x2="500" y2="300" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Formatter to Webview -->
  <line x1="590" y1="250" x2="530" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Git Command Builder to Git Commands -->
  <line x1="170" y1="350" x2="170" y2="440" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="200" y1="350" x2="400" y2="440" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="220" y1="350" x2="640" y2="440" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <!-- Legend -->
  <text x="50" y="570" font-size="14" font-weight="bold" fill="#333">Key Features:</text>
  <text x="70" y="590" font-size="12" fill="#333">✓ No manual git log searching</text>
  <text x="250" y="590" font-size="12" fill="#333">✓ Hover for instant history</text>
  <text x="430" y="590" font-size="12" fill="#333">✓ Track function evolution</text>
  <text x="610" y="590" font-size="12" fill="#333">✓ Beautiful UI</text>
</svg>
